{% extends 'base.html' %}

{% block title %}
GG
{% endblock %}

{% block body %}
<nav>
    {% if current_user.is_authenticated %}
        <main class="formik">
    <div class="py-5 text-center">
      <h2>Загрузи свой рецепт!</h2>
      <p class="lead">Заполните форму по подсказкам и нажимите кнопку "выложить".</p>
    </div>

    <div class="row g-5">
      <div class="col-md-5 col-lg-4 order-md-last">
      </div>
      <div class="col-md-7 col-lg-8">
        <form class="needs-validation" novalidate="">
          <div class="row g-3">
            <div class="col-12">
                <label for="name" class="form-label"><strong>Название блюда</strong></label>
              <div class="input-group has-validation">
                <p id="name">{{ form.title(class="form-control", placeholder="блюдо") }}
                {% for error in form.title.errors %}
                <p class="alert alert-danger" role="alert">
                    {{ error }}
                </p>
                {% endfor %}
              <div class="invalid-feedback">
                  Это обязательное для заполнения поле.
                </div>
              </div>
            </div>

            <label for="recipe_announce" class="form-label"><strong>Краткое описание блюда</strong></label>
            <p id="recipe_announce">{{ form.description(class="form-control", placeholder="напишите 1-2 предложения", style="width: 388px; height: 97px;", cols="40", rows="5", onkeyup="checkFields('recipe_announce');", onblur="checkFields('recipe_announce');") }}
                {% for error in form.description.errors %}
                    <p content="alert alert-danger" role="alert">
                        {{ error }}
                    </p>
                {% endfor %}




            <div class="col-md-6">
                <label for="Ingredients" class="form-label"><strong>Индгридиенты</strong></label>
                <p id="Ingredients">{{ form.ingredients(class="form-control", placeholder="Каждый ингредиент вводите с новой строки и обязательно в таком порядке: название ингредиента - количество", style="width: 388px; height: 97px;", cols="40", rows="5", onkeyup="checkFields('recipe_announce');", onblur="checkFields('recipe_announce');") }}
                {% for error in form.ingredients.errors %}
                    <p content="alert alert-danger" role="alert">
                        {{ error }}
                    </p>
                {% endfor %}
              <div class="invalid-feedback">
                Это обязательное для заполнения поле.
              </div>
            </div>

              <div class="col-md-6">
                  <label for="text" class="form-label"><strong>Текстовое описание готовки</strong></label>
                    <p id="text">{{ form.cooking(class="form-control", placeholder="Каждый шаг готовки вводите с новой строки и обозначайте цифрой", style="width: 388px; height: 97px;", cols="40", rows="5", onkeyup="checkFields('recipe_announce');", onblur="checkFields('recipe_announce');") }}
                {% for error in form.cooking.errors %}
                    <p content="alert alert-danger" role="alert">
                        {{ error }}
                    </p>
                {% endfor %}
              <div class="invalid-feedback">
                Это обязательное для заполнения поле.
              </div>
              </div>

            <div class="col-md-4">
                <label for="state" class="form-label"><strong>Тип блюда</strong></label>
              <div class="input-group has-validation">
                <p id="state">{{ form.type(class="form-control") }}
                    <small>Выберите: завтрак, обед, ужин, перекус. Запишите тип с маленькой буквы, как написано тут.</small>
                {% for error in form.type.errors %}
                <p class="alert alert-danger" role="alert">
                    {{ error }}
                </p>
                {% endfor %}
              <div class="invalid-feedback">
                Это обязательное для заполнения поле.
              </div>
            </div>

          </div>


          <hr class="my-4">

          </div>
          <div>
            <input type="file" class="form-control-file" id="photo" name="file">
          </div>
          <hr class="my-4">
            {{ form.submit(type="submit", class="w-100 btn btn-dark btn-lg") }}

        </form>
      </div>
    </div>
  </main>

    {% else %}
    <div class="pz">
      <h2>Пожалуйста, войдите в аккаунт.</h2>
      <a href="/sign_in" class="btn btn-lg btn-light fw-bold border-black bg-white">войти</a>
    </div>
    {% endif %}
    </nav>

{% endblock %}

